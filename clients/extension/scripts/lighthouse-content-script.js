/*                                       ;@@+   ,@@@@@@                                                                       
                                       @@@@@@@@@@@@@@@@@                   What is my purpose?                                
                                      @@@+::;@@@@;;;;;#@@                                                                     
                                     @@#:::::;@@;;;;;;;+@@                                                                    
                                    @@#::::::@@;;;;#';;;@@,                                                                   
                                   `@@:::;@@@@@;;;@@@';;;@@                                                                   
                                   @@:::;@@@@@;;;@@#@@;;;@@                                                                   
                                   @@:::@@` @@;;;@@.#@+;;+@:                                                                  
                                  :@+::'@# ;@+;;#@@# @@;;;@@                                                                  
                                  @@:::@@  @@;;;@@@@ @@;;;@@      To post a message to the viewer window.                     
                                  @@:::@@  @@;;;@@@@ @@;;;@@:                                                                 
                                  @@:::@@  @@;;;@@@@ @@;;;@@@@@@@:                                                            
                                  @@:::@@  @@;;+@'@@ @@;;;@@;@@@@@@@@#,                                                       
                                 @@@:::@@@.@#;;@@:@@;@#;;+@;.....'@@@@@@@@#.                                                  
                                 @@@@@@@@@'@+;;@@@@@@@;;;@@...........+@@@@@@@@+.                                             
                                 @@@@@@@@@@@';;@@@@@@@;;;@@...............,+@@@@@@@@+`                                        
                                .@@+++++@@@@@+#@@@@,@@;;;@@...:@@@@............,+@@@@@@@@'                                    
                              ;@@@@+++++@@@@@@@@+@@@@;;;@@,...@@;'@@................:#@@@@@                                   
                            @@@@@@@+++++@@@++++++@@@@';;@@...+@;;;'@.....................#@.                                  
                           @@@@:.#@@@@@@@+@++++++@@@@@@@@@@@@@@;;;;@@..................,,#@.                                  
                           @@@@@'..#@@+..'@+++++@@..,+@@@@@@@@@;;;'@@@...............,,,,#@.                                  
                           @@+@@@@@@@+....@@@@@@@:.........@@;@@@@@@;@@@+..........,,,,,,#@.                                  
                           @@....,+@@@@@@@+.;+;............@@;;@@@#;+@@@@@@......,,,,,,,,#@.                                  
                           @@.........,+@@@@@@@+...........@@+++'++++@'+@@@....,,,,,,,,,,#@.                                  
                           @@..............,+@@@@@@@+......#@#+++++#@@..,@@..,,,,,,,,,,,,'@.                                  
                           @@....................+@@@@@@@+..@@@@@@@@@,,,,@@,,,,,,,,,,,,,,'@.                                  
                           @@.........................+@@@@@@@@@@+:,,,,,,@@,,,,,,,,,,,,,,'@.                                  
                           @@..............................+@@@@@@,,,,,,,@@,,,,,,,,,,,,,,'@.                                  
                           @@...................................@@,,,,,,,@@,,,,,,,,,,,,,,'@.                                  
                           @@...................................@@,,,,,,,@@,,,,,,,,,,,,,,'@.                                  
                           @@.............+@@#;.................@@,,,,,,,@@,,,,,,,,,,,,,,'@:                                  
                           @@.......,@@@@@@@@@@@@;..............@@,,,,,,,@@,,,,,,,,,,,,,,'@;                                  
                           @@.....+@@@@@@@@@@+'#@@@,............@@,,,,,,,@@,,,,,,,,,,,,,,'@;                                  
                           @@....@@@''''''''@@@''+@@#...........@@,,,,,,,@@,,,,,,,,,,,,,,'@;                                  
                           @@...@@+'''''''''''@@#''@@@..........@@,,,,,,,@@,,,,,,,,,,,,,,'@;                                  
                           @@..@@'''+@@@@@@@+''#@@''#@@.........@@,,,,,,,@@,,,,,,,,,,,,,,'@;                                  
                           @@.@@'''@@#######@@''+@@''@@;........@@,,,,,,,@@,,,,,+#;,,,,,,'@;                                  
                           @@:@#''@###########@+'+@+''@@........@@,,,,,,,@@,,,,@@@@@@@@',:@;                                  
                           @@@@''@#############@#'#@'''@@.......@@,,,,,,,@@,,,@@,,,:#@@@@@@;                                  
                           @@@+'@@#####@@@@#####@+'@@''#@.......@@,,,,,,,@@,,,@#,,,,,,,@@#@+                                  
                           @@@''@###+@@@#@@@@####@''@+''@@......@@,,,,,,,@@,,#@,,,,,,,:@@@@@                                  
                           @@@'@#'''@@######@@####@'@@''@@......@@,,,,,,,@@,,@@,,,,,,,@@+#+@                                  
                           @@+'@'''@@########@@###@''@'''@+.....@@,,,,,,,@@,,@+,,,,,,,@@;;@@,                                 
                           @@''@'''@#######+##@@###@'@@''@@.....@@,,,,,,,@@,,@:,,,,,,'#@;;@@;                                 
                           @@'+@''#@####+;,  ;#@###@'#@''@@.....@@,,,,,,,@@,,@,,,,,,,@#';;@@;                                 
                           @@'+@''@####:,,    #@@##@+'@''+@.....+@,,,,,,,@@,:@,,,,,,,@@;;;@@;                                 
                           @@'+#''@+###,,,    ##@###@'@+''@,....+@,,,,,,,@@,,@,,,,,,,@@;;'#@.                                 
                           @@'+@''@+###,,,,   ##@###@'@@''@:....+@,,,,,,,@@,,@,,,,,,,@@;;##@+                                 
                           @@'+@''@####,,,,,,###@###@'@@''@;....+@,,,,,,,@@,,@+,,,,,,@@;;@@@@                                 
                           @@+'@''@@+##,,,,,,###@###@'@@''@;....+@,,,,,,,@@,,@@,,,,,,@#+;@@@@                                 
                           @@@'@''+@'##',,,,'###@###@'#@''@,....;@,,,,,,,@@,,,@@@',,,;#@@#@@@                                 
                           @@@'@'''@+###',,,####@###@'@@'+@.....;@,,,,,,,@@,,,:@@@@@@@@;+@@#@                                 
                           @@@'+@''@@'##########@###@'@@'@@.....;@,,,,,,,@@:,,,@#++#@@@@@@##@`                                
                           @@@#'@'''@@'#######+@####@'@@'@@.....;@,,,,,,,@@:,,,@@+++++@#####@;                                
                           @@@@'#@'''@@'+####+@@+##@''@+'@;.....:@,,,,,,,@@:,,,@@+++++@#####@@                                
                           @@+@+'@''''@@+''''@@'+##@''@'@@......:@,,,,,,,@@:,,,:@+++++@@####@@                                
                           @@;@@''@''''@@@@@@@''##@#'@@'@+......:@,,,,,,,@@:,,,,@#++++@@####@@                                
                           @@+.@@'#@''''''+'''''##@''@+@@.......:@,,,,,,,@@:,,,,@@+++++@####@@                                
                           @@+.#@+'#@'''''''''''#@''@@@@.........@,,,,,,,@@:,,,,@@+++++@#####@                                
                           @@+..@@''+@#''''''''#@'''@@@,.........@,,,,,,,@@:,,,,:@+++++@#####@:                               
                           @@+...@@+''@@@+'''#@@'''@@@...........@,,,,,,,@@:,,,,,@#++++@@####@#                               
                           @@+....@@@'''+@@@@#''''@@+............@,,,,,,,@@:,,,@@@@+++++@###@@@                               
                           +@@.....@@@+'''''''''#@@..............@:,,,,,,@@:,:@@@@@+++++@##@+#@`                              
                           +@@......,@@@@+'''+@@@@...............@:,,,,,,@@:@@@# @@+++++@##@;;@#                              
                           +@@........:@@@@@@@@@.................@:,,,,,,@@@@@`  @@#++++@@@';;@@                              
                           .@@@@@;........:;:....................@:,,,,,,@@@+    @@@@@@##@@;;+@@                              
                            +@@@@@@@@@:..........................@',,,,,,@@@     @@:#@@@@@@;@#@@                              
                               `+@@@@@@@@@+,.....................@',,,,,,@@@     @@,,,,,,;@;@;@@                              
                                 @@+#@@@@@@@@@@'.................@',,,,'@@@,     ;@,,,,,,,@;@;@@                              
                                 @#+++@##@@@@@@@@@@@:............@',,,@@@@@       @@@@@;,,@;@'@;                              
                                `@+++#@####@@ '@@@@@@@@@#:.......@+,#@@@#@@       @@@@@@@@@@@@@                               
                                '@+++@@####@,     .@@@@@@@@@@+...@#@@@@''@@       @@+++@@@@@@@@                               
                                @@+++@@###@@       @@::'@@@@@@@@@@@@@+''#@;       @++++@@####@@                               
                                @@+++@@###@@       @@:::::::+@@@@@@@''''@@       ,@++++@#####@.                               
                                @#+++@####@'       +@'::::::::::;#+'''''@@       #@+++#@####@@                                
                               @@+++#@####@        .@#:::::::::::''''''#@@       @@+++@@####@@                                
                              ;@@+++@@###@@         @@:::::::::::''''+@@@.       @@+++@@####@;                                
                              ;@@+++@@###@@         @@@#'::::::::''+@@@@;        @++++@@###@@                                 
                              '@@+++@@###@,         ;@@@@@@@@+::;+@@@@#@`       .@++++@####@@                                 
                              +@@@@+@##@@@            @##@@@@@@@@@@@###@        #@+++#@####@@                                 
                              +@:@@@@@@@@@`           @#+++++@@@@@####@@        @@+++@@####@`                                 
                              +@,,@@@@+;#@@@`         @#+++++@@#######@@        @@+++@@@@@@@                                  
                              +@,,@@@@+;;;'@@,        @@+++++@@#######@@        @++++@@@#,,@@                                 
                              +@,,,,'@@@@@@@@@     @@@@@+++++@@##@@@##@@       .@++++@@+,@@@@                                 
                              ;@#,,,,,,+@#,,@@   +@@@@@@+++++@@#@@#@@#@+       #@+++@@@,,@@@@+                                
                               @@@@#,,,,,,,,@@ `@@@@@@@@+++++@@@@,,,@@@,       @@+++@@@,+@@@@@                                
                                 ,@@@@@;,+@@@`@@@#@@@@@@@#+++@@@@,,,@@@        @@+++@@@,@@@,@@                                
                                    .@@@@@@:'@@@######@@@@@@@@@@@,,,@@@        ;@@@@@@@,@@@,@@                                
                                          `@@@########@@+++#@@@@@,,@@@@.       +@@@@@@#,@@@,@@                                
                                         #@@@#########@@++++++@#@@@@#@@@@@@@:`@@@;;;'@#,@@@@@@                                
                                       :@@@@@@@@@@@###@@++++++@@#@@#@@@@@@@@@@@@@+;;;@#,@':+@@                                
                                      @@@#####@@@@@@@@@@+++++++@@@@@@@@...:#@@#@@@@@@@#,@:,,@+                                
                                    '@@@###########@@@@@+++++++@@@@##@@.....+@,,,,:#@@#,@,,,@@@@+`                            
                                   @@@##############@@@@+++++++@@####@@.....+@@@',,,,,,,@,#@@#@@@@@                           
                                 +@@##############@@@@@@+++++++@@####@@......#@@@@@@@@';@@@@##@@@@@                           
                                @@@@@@@#########@@@@@.;@+++++++@@#####@.....,@@@@@@@@@@@@@###@@@##@                           
                              ;@@##@@@@@@@@@##@@@@@,..:@+++++++@@#####@....@@@########@@@@@@@@##@#@                           
                             #@@########@@@@@@@@@'....:@@++++++@@###@@@..:@@@#############@@@#@@@#@                           
                             @@############@@@@@.......@@@@@@@+@@#@@@+..@@@#############@@@#@@@@##@                           
                             @@##########@@@@@............:@@@@@@@@+..;@@@@@@@########@@@@#@@@####@                           
                             @##########@@@@,..................:@+...@@@#@@@@@@@@@@@@@@@#@@@+@####@                           
                             @#########@@@@@+......................;@@##########@@@@@@#@@@#@'@####@                           
                             @########@@@@@@@@@@@+................@@@#############@@@#@@@,,@'@####@                           
                             @########@@@@...,+@@@@@@@+.........:@@#############@@@#@@@#@,,@#@####@                           
                             @@@@@####@@@@........,+@@@@@@@+...@@@@@@##########@@@#@@@@@'@:@@@####@                           
                             @#@@@@@@@@@@@.............,+@@@@@@@@@@@@@@@@####@@@#@@@@'@@'+#'@@####@                           
                             @#####@@@@@@@;;,................@@#######@@@@@@@@@#@@@,@'@@@''@@####@@                           
                             @#########@@@;;;;;;;,...........@@###########@@@#@@@+','+@@@@@@@##@@@                            
                             @#########@@@;;;;;;;;;;;;,......@@##########@@@#@@@+'#,@+@##@@###@@@                             
                             @@########@@@;;;;;;;;;;;;;;;;;;,@@########@@@#@@@#@@'@@@@@######@@;                              
                             @@########@@@';;;;;;;;;;;;;;;;;;@@########@@#@@@@'@@''''@@####@@@                                
                             @@########@@@@@@@+;;;;;;;;;;;;;;@@########@#@@#,@'@@@''@@####@@#                                 
                             ;@@#######@@@@@@@@@@@@+;;;;;;;;;@@########@#@@:,@'@@@@@@@##@@@.                                  
                              ;@@@@@###@@##@@@@@@@@@@@@#';;;;@@@#######@#@@#,@'@#@@@###@@@                                    
                                 #@@@@@@@#@@;    .#@@@@@@@@@#@@@@@@@@@#@#@@@@#@@######@@;                                     
                                    ;@@@@@@           :@@@@@@@@##@@@@@@@#@@'''@@####@@@                                       
                                        +:                 ;@@@########@#@@''@@####@@#                                        
                                                             @@########@@@@@@@@##@@@`                                         
                                                             @@########@@@@@@@##@@@                                           
                                                             @@########@@@@####@@:                                            
                                                             :@@#######@@####@@@                                              
                                                              @@@@#####@@###@@+                                               
                                                                #@@@@@#@@#@@@                                                 
                                                                   '@@@@@@@#                                                  
                                                                      .@@@.                                                   
*/

chrome.runtime.onMessage.addListener(async (lhr) => {
  // TODO: viewer does not register event listener for 'message' early enough.
  setTimeout(() => {
    window.postMessage({lhresults: lhr}, '*');
  }, 1000);
});
